procedure main()
  shared a1_ready := semaphore(0)
  // shared can_do_b1 := semaphore(?)
  create_thread(thread_a)
  create_thread(thread_b)
end procedure

procedure thread_a()
  statement a1
  signal(a1_ready)
end procedure

procedure thread_b()
  wait(a1_ready)
  statement b1
end procedure
